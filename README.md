# myArchivator
lab1 operating system
# Информация о вызове:
Ключи:
 - -с - Создание архива
 - -x - распаковка архива
 - -v - Выводит на экран информацию о файлах, которые упаковываются или распаковываются


# Информация о реализации
## Распределение функций по файлам библиотеки
- main.c
    - Обработка ключей и путей
- tar
    - Архивирование
    - Обход директории
- crc
    - Вычисление контрольной суммы CRC-32

## Структура получаемого файла:
|Длина поля|Имя поля                             |
|---------:|:------------------------------------|
|100       |Имя файла                            |
|8         |Права доступа к файлу                |
|8         |Идентификатор владельца файла        |
|8         |Идентификатор группы владельцев файла|
|12        |Размер файла в байтах                |
|12        |Последнее время модификации файла    |
|8         |Контрольная сумма (по CRC-32)        |


## Упаковка директории
1. Обход директории
    - Для каждого файла:
      - Создать header
        - Разбить все значения на байты
        - Подсчитать контрольную сумму и её тоже разбить на байты :D
      - Записать header (точнее 512 байт)
      - Переписать содержимое файла
        - Если получается блок меньше 512 байт, то дополняем его нулями до 512 байт
2. Дописать в конец файла 2 по 512 байт NULL

## Распаковка:
  1. Читаем header
      - Проверяем целостность header
      - Если header каталога, то создаем каталог
      - Если header описывает файл, то создаем файл
        - Сразу задаем права доступа
        - Переписываем информацию
